<!-- kv3 encoding:text:version{e21c7f3c-8a33-41c5-9977-a76d3a32aa0d} format:vrfunknown:version{5ab656f0-06de-478a-804e-489e82994fb5} -->
{
	generic_data_type = "CSmartPropRoot"
	m_Variables = 
	[
		 {
            _class = "CSmartPropVariable_Int"
            m_VariableName = "Box_Style"
            m_DefaultValue = 1
            m_bExposeAsParameter = true
            m_nParamaterMinValue = 1
            m_nParamaterMaxValue = 5
            m_nElementID = 10
            m_DisplayName = "Stairs style (1=Top faces, 2=Right side, 3=Left side, 4=Both sides, 5=Box)"
        },
		{
            _class = "CSmartPropVariable_MaterialGroup"
            m_sModelName = resource_name:"models/dev/placeholder_box.vmdl"
            m_DefaultValue = "grid"
            m_bExposeAsParameter = true
            m_DisplayName = "Texture"
            m_VariableName = "Skin_Var"
            m_nElementID = 42
        },		
		{
			_class = "CSmartPropVariable_Int"
			m_VariableName = "count"
			m_bExposeAsParameter = true
			m_ParameterName = "Number of steps"
			m_DefaultValue = 16
			m_nParamaterMinValue = 1
			m_nParamaterMaxValue = 200
		},
		
		{
			_class = "CSmartPropVariable_Int"
			m_VariableName = "stepHeight"
			m_DefaultValue = 8
			m_bExposeAsParameter = true
			m_nParamaterMinValue = 4
			m_nParamaterMaxValue = 18
			m_ParameterName = "Step Height"
		},
		
		{
			_class = "CSmartPropVariable_Int"
			m_VariableName = "stepWidth"
			m_DefaultValue = 128
			m_bExposeAsParameter = true
			m_nParamaterMinValue = 8
			m_nParamaterMaxValue = 256
			m_ParameterName = "Step Width"
		},
		
		{
			_class = "CSmartPropVariable_Int"
			m_VariableName = "stepDepth"
			m_DefaultValue = 16
			m_bExposeAsParameter = true
			m_nParamaterMinValue = 4
			m_nParamaterMaxValue = 64
			m_ParameterName = "Step Depth"
		},
		
		{
			_class = "CSmartPropVariable_Float"
			m_VariableName = "totalAngle"
			m_DefaultValue = 0.000000
			m_bExposeAsParameter = true
			m_flParamaterMinValue = 0.000000
			m_flParamaterMaxValue = 360.000000
			m_ParameterName = "Curvature Angle"
		},
		
		{
			_class = "CSmartPropVariable_Bool"
			m_VariableName = "clockWise"
			m_DefaultValue = false
			m_bExposeAsParameter = true
			m_ParameterName = "Clockwise rotation"
		},
		
		{
			_class = "CSmartPropVariable_Float"
			m_VariableName = "stepAngle"
		},
		
		{
			_class = "CSmartPropVariable_Float"
			m_VariableName = "clockWise_int"
		},
		
		{
			_class = "CSmartPropVariable_Float"
			m_VariableName = "radius"
		},
		
		{
			_class = "CSmartPropVariable_Float"
			m_VariableName = "stepOffset"
		},
		
		{
			_class = "CSmartPropVariable_Bool"
			m_VariableName = "isCurved"
		},
		
		{
			_class = "CSmartPropVariable_Float"
			m_VariableName = "Irregularity"
			m_bExposeAsParameter = true
		},
	]
	m_Children = 
	[
		{
			_class = "CSmartPropElement_PlaceMultiple"
			m_nElementID = 2
			m_sLabel = "Style_01"
			m_nCount = 
			{
				m_SourceName = "count"
			}
			m_Expression = "InstanceIndex() >= 200"
			m_Modifiers = 
			[
				{
					_class = "CSmartPropFilter_VariableValue"
					m_VariableComparison = 
					{
						m_Name = "Box_Style"
						m_Value = 5
						m_Comparison = "EQUAL"
					}
				},
				{
					_class = "CSmartPropOperation_SetVariableBool"
					m_VariableName = "isCurved"
					m_VariableValue = 
					{
						m_Expression = "Min(totalAngle, count-1) != 0"
					}
				},
				{
					_class = "CSmartPropOperation_SetVariableFloat"
					m_VariableValue = 
					{
						m_Expression = "clockWise ? -1 : 1"
					}
					m_VariableName = "clockWise_int"
				},
				
				{
					_class = "CSmartPropOperation_SetVariableFloat"
					m_VariableValue = 
					{
						m_Expression = "isCurved ? totalAngle * clockWise_int / (count-1) : 0"
					}
					m_VariableName = "StepAngle"
				},
				
				{
					_class = "CSmartPropOperation_SetVariableFloat"
					m_VariableValue = 
					{
						m_Expression = "isCurved ? stepDepth / Tan( Deg2rad( stepAngle ) ) - stepWidth * 0.5 * clockWise_int : 0"
					}
					m_VariableName = "Radius"
				},
				
				{
					_class = "CSmartPropOperation_SetVariableFloat"
					m_VariableName = "StepOffset"
					m_VariableValue = 
					{
						m_Expression = "isCurved ? 0 : stepDepth"
					}
				},
			]
			m_Children = 
			[
				
				{
					_class = "CSmartPropElement_Model"
					m_nElementID = 1
					m_sModelName = resource_name:"models/dev/placeholder_box.vmdl"
					m_MaterialGroupName = 
					{
						m_SourceName = "Skin_Var"
					}
					m_vModelScale = 
					{
						m_Components = 
						[
							
							{
								m_Expression = "stepDepth * 0.1"
							},
							
							{
								m_Expression = "stepWidth * 0.1"
							},
							
							{
								m_Expression = "stepHeight * 0.1"
							},
						]
					}
					m_Modifiers = 
					[
						{
							_class = "CSmartPropOperation_Translate"
							m_vPosition = 
							{
								m_Components = 
								[
									{
										m_Expression = "stepDepth * 0.5"
									},
									{
										m_Expression = "radius"
									},
									0.000000,
								]
							}
							m_bEnabled = true
						},
						{
							_class = "CSmartPropOperation_Rotate"
							m_vRotation = 
							{
								m_Components = 
								[
									0.000000,
									{
										m_Expression = "InstanceIndex() * stepAngle"
									},
									0.000000,
								]
							}
							m_bEnabled = true
						},
						{
							_class = "CSmartPropOperation_Translate"
							m_vPosition = 
							{
								m_Components = 
								[
									
									{
										m_Expression = "InstanceIndex() * stepOffset"
									},
									
									{
										m_Expression = "-radius"
									},
									
									{
										m_Expression = "InstanceIndex() * stepHeight"
									},
								]
							}
							m_bEnabled = true
						},
						{
							_class = "CSmartPropOperation_Rotate"
							m_vRotation = 
							{
								m_Components = 
								[
									0.000000,
									{
										m_Expression = "RandomFloat( -15 * Irregularity, 15 * Irregularity )"
									},
									0.000000,
								]
							}
							m_bEnabled = true
						},
					]
				},
			]
		},
		{
			_class = "CSmartPropElement_PlaceMultiple"
			m_nElementID = 2
			m_sLabel = "Style_02"
			m_nCount = 
			{
				m_SourceName = "count"
			}
			m_Expression = "InstanceIndex() >= 200"
			m_Modifiers = 
			[
				{
					_class = "CSmartPropFilter_VariableValue"
					m_VariableComparison = 
					{
						m_Name = "Box_Style"
						m_Value = 1
						m_Comparison = "EQUAL"
					}
				},
				{
					_class = "CSmartPropOperation_SetVariableBool"
					m_VariableName = "isCurved"
					m_VariableValue = 
					{
						m_Expression = "Min(totalAngle, count-1) != 0"
					}
				},
				{
					_class = "CSmartPropOperation_SetVariableFloat"
					m_VariableValue = 
					{
						m_Expression = "clockWise ? -1 : 1"
					}
					m_VariableName = "clockWise_int"
				},
				
				{
					_class = "CSmartPropOperation_SetVariableFloat"
					m_VariableValue = 
					{
						m_Expression = "isCurved ? totalAngle * clockWise_int / (count-1) : 0"
					}
					m_VariableName = "StepAngle"
				},
				
				{
					_class = "CSmartPropOperation_SetVariableFloat"
					m_VariableValue = 
					{
						m_Expression = "isCurved ? stepDepth / Tan( Deg2rad( stepAngle ) ) - stepWidth * 0.5 * clockWise_int : 0"
					}
					m_VariableName = "Radius"
				},
				
				{
					_class = "CSmartPropOperation_SetVariableFloat"
					m_VariableName = "StepOffset"
					m_VariableValue = 
					{
						m_Expression = "isCurved ? 0 : stepDepth"
					}
				},
			]
			m_Children = 
			[
				
				{
					_class = "CSmartPropElement_Model"
					m_nElementID = 1
					m_sModelName = resource_name:"models/dev/placeholder_box_step.vmdl"
					m_MaterialGroupName = 
					{
						m_SourceName = "Skin_Var"
					}
					m_vModelScale = 
					{
						m_Components = 
						[
							
							{
								m_Expression = "stepDepth * 0.1"
							},
							
							{
								m_Expression = "stepWidth * 0.1"
							},
							
							{
								m_Expression = "stepHeight * 0.1"
							},
						]
					}
					m_Modifiers = 
					[
						{
							_class = "CSmartPropOperation_Translate"
							m_vPosition = 
							{
								m_Components = 
								[
									{
										m_Expression = "stepDepth * 0.5"
									},
									{
										m_Expression = "radius"
									},
									0.000000,
								]
							}
							m_bEnabled = true
						},
						{
							_class = "CSmartPropOperation_Rotate"
							m_vRotation = 
							{
								m_Components = 
								[
									0.000000,
									{
										m_Expression = "InstanceIndex() * stepAngle"
									},
									0.000000,
								]
							}
							m_bEnabled = true
						},
						{
							_class = "CSmartPropOperation_Translate"
							m_vPosition = 
							{
								m_Components = 
								[
									
									{
										m_Expression = "InstanceIndex() * stepOffset"
									},
									
									{
										m_Expression = "-radius"
									},
									
									{
										m_Expression = "InstanceIndex() * stepHeight"
									},
								]
							}
							m_bEnabled = true
						},
						{
							_class = "CSmartPropOperation_Rotate"
							m_vRotation = 
							{
								m_Components = 
								[
									0.000000,
									{
										m_Expression = "RandomFloat( -15 * Irregularity, 15 * Irregularity )"
									},
									0.000000,
								]
							}
							m_bEnabled = true
						},
					]
				},
			]
		},
		{
			_class = "CSmartPropElement_PlaceMultiple"
			m_nElementID = 2
			m_sLabel = "Style_01"
			m_nCount = 
			{
				m_SourceName = "count"
			}
			m_Expression = "InstanceIndex() >= 200"
			m_Modifiers = 
			[
				{
					_class = "CSmartPropFilter_VariableValue"
					m_VariableComparison = 
					{
						m_Name = "Box_Style"
						m_Value = 2
						m_Comparison = "EQUAL"
					}
				},
				{
					_class = "CSmartPropOperation_SetVariableBool"
					m_VariableName = "isCurved"
					m_VariableValue = 
					{
						m_Expression = "Min(totalAngle, count-1) != 0"
					}
				},
				{
					_class = "CSmartPropOperation_SetVariableFloat"
					m_VariableValue = 
					{
						m_Expression = "clockWise ? -1 : 1"
					}
					m_VariableName = "clockWise_int"
				},
				
				{
					_class = "CSmartPropOperation_SetVariableFloat"
					m_VariableValue = 
					{
						m_Expression = "isCurved ? totalAngle * clockWise_int / (count-1) : 0"
					}
					m_VariableName = "StepAngle"
				},
				
				{
					_class = "CSmartPropOperation_SetVariableFloat"
					m_VariableValue = 
					{
						m_Expression = "isCurved ? stepDepth / Tan( Deg2rad( stepAngle ) ) - stepWidth * 0.5 * clockWise_int : 0"
					}
					m_VariableName = "Radius"
				},
				
				{
					_class = "CSmartPropOperation_SetVariableFloat"
					m_VariableName = "StepOffset"
					m_VariableValue = 
					{
						m_Expression = "isCurved ? 0 : stepDepth"
					}
				},
			]
			m_Children = 
			[
				
				{
					_class = "CSmartPropElement_Model"
					m_nElementID = 1
					m_sModelName = resource_name:"models/dev/placeholder_box_step_side_right.vmdl"
					m_MaterialGroupName = 
					{
						m_SourceName = "Skin_Var"
					}
					m_vModelScale = 
					{
						m_Components = 
						[
							
							{
								m_Expression = "stepDepth * 0.1"
							},
							
							{
								m_Expression = "stepWidth * 0.1"
							},
							
							{
								m_Expression = "stepHeight * 0.1"
							},
						]
					}
					m_Modifiers = 
					[
						{
							_class = "CSmartPropOperation_Translate"
							m_vPosition = 
							{
								m_Components = 
								[
									{
										m_Expression = "stepDepth * 0.5"
									},
									{
										m_Expression = "radius"
									},
									0.000000,
								]
							}
							m_bEnabled = true
						},
						{
							_class = "CSmartPropOperation_Rotate"
							m_vRotation = 
							{
								m_Components = 
								[
									0.000000,
									{
										m_Expression = "InstanceIndex() * stepAngle"
									},
									0.000000,
								]
							}
							m_bEnabled = true
						},
						{
							_class = "CSmartPropOperation_Translate"
							m_vPosition = 
							{
								m_Components = 
								[
									
									{
										m_Expression = "InstanceIndex() * stepOffset"
									},
									
									{
										m_Expression = "-radius"
									},
									
									{
										m_Expression = "InstanceIndex() * stepHeight"
									},
								]
							}
							m_bEnabled = true
						},
						{
							_class = "CSmartPropOperation_Rotate"
							m_vRotation = 
							{
								m_Components = 
								[
									0.000000,
									{
										m_Expression = "RandomFloat( -15 * Irregularity, 15 * Irregularity )"
									},
									0.000000,
								]
							}
							m_bEnabled = true
						},
					]
				},
			]
		},
		{
			_class = "CSmartPropElement_PlaceMultiple"
			m_nElementID = 2
			m_sLabel = "Style_01"
			m_nCount = 
			{
				m_SourceName = "count"
			}
			m_Expression = "InstanceIndex() >= 200"
			m_Modifiers = 
			[
				{
					_class = "CSmartPropFilter_VariableValue"
					m_VariableComparison = 
					{
						m_Name = "Box_Style"
						m_Value = 3
						m_Comparison = "EQUAL"
					}
				},
				{
					_class = "CSmartPropOperation_SetVariableBool"
					m_VariableName = "isCurved"
					m_VariableValue = 
					{
						m_Expression = "Min(totalAngle, count-1) != 0"
					}
				},
				{
					_class = "CSmartPropOperation_SetVariableFloat"
					m_VariableValue = 
					{
						m_Expression = "clockWise ? -1 : 1"
					}
					m_VariableName = "clockWise_int"
				},
				
				{
					_class = "CSmartPropOperation_SetVariableFloat"
					m_VariableValue = 
					{
						m_Expression = "isCurved ? totalAngle * clockWise_int / (count-1) : 0"
					}
					m_VariableName = "StepAngle"
				},
				
				{
					_class = "CSmartPropOperation_SetVariableFloat"
					m_VariableValue = 
					{
						m_Expression = "isCurved ? stepDepth / Tan( Deg2rad( stepAngle ) ) - stepWidth * 0.5 * clockWise_int : 0"
					}
					m_VariableName = "Radius"
				},
				
				{
					_class = "CSmartPropOperation_SetVariableFloat"
					m_VariableName = "StepOffset"
					m_VariableValue = 
					{
						m_Expression = "isCurved ? 0 : stepDepth"
					}
				},
			]
			m_Children = 
			[
				
				{
					_class = "CSmartPropElement_Model"
					m_nElementID = 1
					m_sModelName = resource_name:"models/dev/placeholder_box_step_side_left.vmdl"
					m_MaterialGroupName = 
					{
						m_SourceName = "Skin_Var"
					}
					m_vModelScale = 
					{
						m_Components = 
						[
							
							{
								m_Expression = "stepDepth * 0.1"
							},
							
							{
								m_Expression = "stepWidth * 0.1"
							},
							
							{
								m_Expression = "stepHeight * 0.1"
							},
						]
					}
					m_Modifiers = 
					[
						{
							_class = "CSmartPropOperation_Translate"
							m_vPosition = 
							{
								m_Components = 
								[
									{
										m_Expression = "stepDepth * 0.5"
									},
									{
										m_Expression = "radius"
									},
									0.000000,
								]
							}
							m_bEnabled = true
						},
						{
							_class = "CSmartPropOperation_Rotate"
							m_vRotation = 
							{
								m_Components = 
								[
									0.000000,
									{
										m_Expression = "InstanceIndex() * stepAngle"
									},
									0.000000,
								]
							}
							m_bEnabled = true
						},
						{
							_class = "CSmartPropOperation_Translate"
							m_vPosition = 
							{
								m_Components = 
								[
									
									{
										m_Expression = "InstanceIndex() * stepOffset"
									},
									
									{
										m_Expression = "-radius"
									},
									
									{
										m_Expression = "InstanceIndex() * stepHeight"
									},
								]
							}
							m_bEnabled = true
						},
						{
							_class = "CSmartPropOperation_Rotate"
							m_vRotation = 
							{
								m_Components = 
								[
									0.000000,
									{
										m_Expression = "RandomFloat( -15 * Irregularity, 15 * Irregularity )"
									},
									0.000000,
								]
							}
							m_bEnabled = true
						},
					]
				},
			]
		},
		{
			_class = "CSmartPropElement_PlaceMultiple"
			m_nElementID = 2
			m_sLabel = "Style_01"
			m_nCount = 
			{
				m_SourceName = "count"
			}
			m_Expression = "InstanceIndex() >= 200"
			m_Modifiers = 
			[
				{
					_class = "CSmartPropFilter_VariableValue"
					m_VariableComparison = 
					{
						m_Name = "Box_Style"
						m_Value = 4
						m_Comparison = "EQUAL"
					}
				},
				{
					_class = "CSmartPropOperation_SetVariableBool"
					m_VariableName = "isCurved"
					m_VariableValue = 
					{
						m_Expression = "Min(totalAngle, count-1) != 0"
					}
				},
				{
					_class = "CSmartPropOperation_SetVariableFloat"
					m_VariableValue = 
					{
						m_Expression = "clockWise ? -1 : 1"
					}
					m_VariableName = "clockWise_int"
				},
				
				{
					_class = "CSmartPropOperation_SetVariableFloat"
					m_VariableValue = 
					{
						m_Expression = "isCurved ? totalAngle * clockWise_int / (count-1) : 0"
					}
					m_VariableName = "StepAngle"
				},
				
				{
					_class = "CSmartPropOperation_SetVariableFloat"
					m_VariableValue = 
					{
						m_Expression = "isCurved ? stepDepth / Tan( Deg2rad( stepAngle ) ) - stepWidth * 0.5 * clockWise_int : 0"
					}
					m_VariableName = "Radius"
				},
				
				{
					_class = "CSmartPropOperation_SetVariableFloat"
					m_VariableName = "StepOffset"
					m_VariableValue = 
					{
						m_Expression = "isCurved ? 0 : stepDepth"
					}
				},
			]
			m_Children = 
			[
				
				{
					_class = "CSmartPropElement_Model"
					m_nElementID = 1
					m_sModelName = resource_name:"models/dev/placeholder_box_step_side_both.vmdl"
					m_MaterialGroupName = 
					{
						m_SourceName = "Skin_Var"
					}
					m_vModelScale = 
					{
						m_Components = 
						[
							
							{
								m_Expression = "stepDepth * 0.1"
							},
							
							{
								m_Expression = "stepWidth * 0.1"
							},
							
							{
								m_Expression = "stepHeight * 0.1"
							},
						]
					}
					m_Modifiers = 
					[
						{
							_class = "CSmartPropOperation_Translate"
							m_vPosition = 
							{
								m_Components = 
								[
									{
										m_Expression = "stepDepth * 0.5"
									},
									{
										m_Expression = "radius"
									},
									0.000000,
								]
							}
							m_bEnabled = true
						},
						{
							_class = "CSmartPropOperation_Rotate"
							m_vRotation = 
							{
								m_Components = 
								[
									0.000000,
									{
										m_Expression = "InstanceIndex() * stepAngle"
									},
									0.000000,
								]
							}
							m_bEnabled = true
						},
						{
							_class = "CSmartPropOperation_Translate"
							m_vPosition = 
							{
								m_Components = 
								[
									
									{
										m_Expression = "InstanceIndex() * stepOffset"
									},
									
									{
										m_Expression = "-radius"
									},
									
									{
										m_Expression = "InstanceIndex() * stepHeight"
									},
								]
							}
							m_bEnabled = true
						},
						{
							_class = "CSmartPropOperation_Rotate"
							m_vRotation = 
							{
								m_Components = 
								[
									0.000000,
									{
										m_Expression = "RandomFloat( -15 * Irregularity, 15 * Irregularity )"
									},
									0.000000,
								]
							}
							m_bEnabled = true
						},
					]
				},
			]
		},
	]
}